<!doctype html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../../assets/main.css" rel="stylesheet">
</head>
<body class="page">
<header class="page__header">
    <div class="page__header__left">
        <a id="link-home" href="../../index.html">
            &nbsp;Essential Books</a>
    </div>
</header>
<div class="content">
    <div class="article">
      

<div style="display: flex; justify-content: space-between">
  <h1 class="title">FOR</h1>
  <a class="edit-link" style="font-size: 80%" href="https://notion.so/bad676c158e747ff96145309fead1b63" rel="nofollow" target="_blank">suggest change</a>
</div>


      
<p>Iterates over a series of values, executing a command.
</p>
<p>In the following examples, <code>%i</code> is to be used from the command line while <code>%%i</code> is to be used from a batch. The index (e.g., <code>%i</code>) must be a single character variable name.
</p>
<p>Examples:
</p>
  <ul id="af6fc96c-16b1-4f0b-ac0e-a89e443e14e6" class="bulleted-list">
    <li><code>for %%i in (1,2,3) do echo %%i</code>
    <p>In a batch, echoes 1, 2, and 3. In a batch, the command must use a double percent sign.
    </p>
    <p>The remaining examples are intended to be directly pasted into a command line, so they use a single percent sign and include <code>@</code> to prevent repetitive display.
    </p>
    </li>
    <li><code>for %i in (1,2,3) do @echo %i</code>
    <p>From a command line, echoes 1, 2, and 3.
    </p>
    <p>The for command tries to interpret the items as file names and as patterns of file names containing wildcards.
    </p>
    <p>It does not complain if the items do not match existing file names, though.
    </p>
    </li>
    <li><code>for %i in (1,2,a*d*c*e*t) do @echo %i</code>
    <p>Unless you happen to have a file matching the third pattern, echoes 1 and 2, discarding the third item.
    </p>
    </li>
    <li><code>for %i in (1 2,3;4) do @echo %i</code>
    <p>Echoes 1, 2, 3, and 4. Yes, a mixture of item separators is used.
    </p>
    </li>
    <li><code>for %i in (*.txt) do @echo %i</code>
    <p>Echoes file names of files located in the current folder and having the <code>.txt</code> extension.
    </p>
    </li>
    <li><code>for %i in ("C:\Windows\system32\*.exe") do @echo %i</code>
    <p>Echoes file names matching the pattern.
    </p>
    </li>
    <li><code>for /r %i in (*.txt) do @echo %i</code>
    <p>Echoes file names with full paths, of files having the extension <code>.txt</code> located anywhere in the current folder including nested folders.
    </p>
    </li>
    <li><code>for /d %i in (*) do @echo %i</code>
    <p>Echoes the names of all folders in the current folder.
    </p>
    </li>
    <li><code>for /r /d %i in (*) do @echo %i</code>
    <p>Echoes the names including full paths of all folders in the current folder, including nested folders.
    </p>
    </li>
    <li><code>for /r %i in (*) do @if %~zi geq 1000000 echo %~zi %i</code>
    <p>For each file in the current folder and its sub-folders that has the size greater than or equal to 1,000,000 bytes, outputs the file size in bytes and the full path of the file. For the syntax in <code>%~zi</code>, see <a href="-percent-tilde-f4263820c2db41e399c77259970464f1.html">percent tilde</a>.
    </p>
    </li>
    <li><code>for /l %i in (1,1,10) do @echo %i</code>
    <p>Echoes the numbers from 1 to 10.
    </p>
    </li>
    <li><code>for /f "tokens=*" %i in (list.txt) do @echo %i</code>
      <ul id="80825a52-6e1e-4c67-af45-61c2225747fc" class="bulleted-list">
        <li>For each line in a file, echoes the line.
        </li>
      </ul>
    </li>
    <li><code>for /f "tokens=*" %i in (list1.txt list2.txt) do @echo %i</code>
      <ul id="3da8c2e0-715f-46b9-b950-54b331d10b7e" class="bulleted-list">
        <li>For each line in the files, echoes the line.
        </li>
      </ul>
    </li>
    <li><code>for /f "tokens=*" %i in (*.txt) do @echo %i</code>
      <ul id="1428465b-3b82-4443-877d-ab3c7c96aafe" class="bulleted-list">
        <li>Does nothing. Does not accept wildcards to match file names.
        </li>
      </ul>
    </li>
    <li><code>for /f "tokens=1-3 delims=:" %a in ("First:Second::Third") do @echo %c-%b-%a</code>
      <ul id="cf0f106b-ad0f-4397-9ff7-24d3803bbc5a" class="bulleted-list">
        <li>Parses a string into tokens delimited by <code>:</code>.
        </li>
        <li>The quotation marks indicate the string is not a file name.
        </li>
        <li>The second and third tokens are stored in <code>%b</code> and <code>%c</code> even though <code>%b</code> and <code>%c</code> are not expressly mentioned in the part of the command before "do".
        </li>
        <li>The two consecutive colons are treated as one separator; <code>%c</code> is not "" but rather "Third".
        </li>
        <li>Does some of the job of the cut command from other operating systems.
        </li>
      </ul>
    </li>
    <li><code>for /f "tokens=1-3* delims=:" %a in ("First:Second::Third:Fourth:Fifth") do @echo %c-%b-%a: %d</code>
      <ul id="a19bfaca-ff85-4a80-a985-42756da3a248" class="bulleted-list">
        <li>As above, just that the 4th and 5th items get captured in <code>%d</code> as "Fourth:Fifth", including the separator.
        </li>
      </ul>
    </li>
    <li><code>for /f "tokens=1-3* delims=:," %a in ("First,Second,:Third:Fourth:Fifth") do @echo %c-%b-%a: %d</code>
      <ul id="ef7910c8-2ab5-463b-a2f5-0b574086d75d" class="bulleted-list">
        <li>Multiple delimiters are possible.
        </li>
      </ul>
    </li>
    <li><code>for /f "tokens=1-3" %a in ("First Second Third,item") do @echo %c-%b-%a</code>
      <ul id="fe367b69-aa32-488a-b715-80b235d12737" class="bulleted-list">
        <li>The default delimiters are space and tab. Thus, they differ from the separators used to separate arguments passed to a batch.
        </li>
      </ul>
    </li>
    <li><code>for /f "tokens=*" %i in ('cd') do @echo %i</code>
      <ul id="e238f70a-c090-496f-a10a-f64a73e3cab9" class="bulleted-list">
        <li>For each line of the result of a command, echoes the line.
        </li>
      </ul>
    </li>
    <li><code>for /f "tokens=*" %i in ('dir /b /a-d-h') do @echo %~nxai</code>
      <ul id="cd96aaf8-5056-42c3-b475-4a3c42f7f3b6" class="bulleted-list">
        <li>For each non-hidden file in the current folder, displays the file attributes followed by the file name. In the string <code>%~nxai</code>, uses the syntax described at <a href="-percent-tilde-f4263820c2db41e399c77259970464f1.html">percent tilde</a>.
        </li>
      </ul>
    </li>
    <li><code>for /f "usebackq tokens=*" %i in (`dir /b /a-d-h`) do @echo %~nxai</code>
      <ul id="725bceb0-9362-4882-a742-98f8cecad899" class="bulleted-list">
        <li>As above, but using the back-quote character (<code>`</code>) around the command to be executed.
        </li>
      </ul>
    </li>
    <li><code>for /f "tokens=*" %i in ('tasklist ^| sort ^&amp; echo End') do @echo %i</code>
      <ul id="015428a0-d8c4-424b-ba52-ae40f137ee63" class="bulleted-list">
        <li>Pipes and ampersands in the command to be executed must be escaped using caret (<code>^</code>).
        </li>
      </ul>
    </li>
    <li><code>(for %i in (1,2,3) do @echo %i) &gt; anyoldtemp.txt</code>
      <ul id="72910f09-3d39-48ca-b721-785dfd573817" class="bulleted-list">
        <li>To redirect the entire result of a for loop, place the entire loop inside brackets before redirecting. Otherwise, the redirection will tie to the body of the loop, so each new iteration of the body of the loop will override the results of the previous iterations.
        </li>
      </ul>
    </li>
    <li><code>for %i in (1,2,3) do @echo %i &gt; anyoldtemp.txt</code>
      <ul id="dade93c3-be18-4a53-bacb-dd80ee3af917" class="bulleted-list">
        <li>An example related to the one above. It shows the consequence of failing to put the loop inside brackets.
        </li>
      </ul>
    </li>
  </ul>
<p>Continue: To jump to the next iteration of the loop and thus emulate the continue statement known from many languages, you can use <code><a href="goto-987419c9b64d4421bfe238f9db65d492.html">goto</a></code> provided you put the loop body in a subroutine, as shown in the following:
</p>

<div class="code-box lang-Shell">
	<div>
	<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="k">for</span> %%i in <span class="o">(</span>a b c<span class="o">)</span> <span class="k">do</span> call :for_body %%i
</span></span><span class="line"><span class="cl"><span class="nb">exit</span> /b
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">:for_body
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="m">1</span> %1
</span></span><span class="line"><span class="cl">    goto :cont
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="m">2</span> %1
</span></span><span class="line"><span class="cl">  :cont
</span></span><span class="line"><span class="cl"><span class="nb">exit</span> /b</span></span></code></pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<p>If you use <a href="goto-987419c9b64d4421bfe238f9db65d492.html"><code>goto</code></a><a href="goto-987419c9b64d4421bfe238f9db65d492.html"> </a>directly inside the for loop, the use of <a href="goto-987419c9b64d4421bfe238f9db65d492.html"><code>goto</code></a><a href="goto-987419c9b64d4421bfe238f9db65d492.html"> </a>breaks the loop bookkeeping. The following fails:
</p>

<div class="code-box lang-Shell">
	<div>
	<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="k">for</span> %%i in <span class="o">(</span>a b c<span class="o">)</span> <span class="k">do</span> <span class="o">(</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="m">1</span> %%i
</span></span><span class="line"><span class="cl">    goto :cont
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="m">2</span> %%i
</span></span><span class="line"><span class="cl">  :cont
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="m">3</span> %%i
</span></span><span class="line"><span class="cl"><span class="o">)</span></span></span></code></pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<p>Links:
</p>
  <ul id="907294de-7009-4218-ab57-7b8d10d89808" class="bulleted-list">
    <li><a href="http://ss64.com/nt/for.html">for at ss64.com</a>
    </li>
    <li><a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/for">for at Microsoft</a>
    </li>
  </ul>
<p>
</p>

<div class="code-box lang-Shell">
	<div>
	<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl">$ <span class="k">for</span> /?
</span></span><span class="line"><span class="cl">Runs a specified <span class="nb">command</span> <span class="k">for</span> each file in a <span class="nb">set</span> of files.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FOR %variable IN <span class="o">(</span><span class="nb">set</span><span class="o">)</span> DO <span class="nb">command</span> <span class="o">[</span>command-parameters<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  %variable  Specifies a single letter replaceable parameter.
</span></span><span class="line"><span class="cl">  <span class="o">(</span><span class="nb">set</span><span class="o">)</span>      Specifies a <span class="nb">set</span> of one or more files.  Wildcards may be used.
</span></span><span class="line"><span class="cl">  <span class="nb">command</span>    Specifies the <span class="nb">command</span> to carry out <span class="k">for</span> each file.
</span></span><span class="line"><span class="cl">  command-parameters
</span></span><span class="line"><span class="cl">             Specifies parameters or switches <span class="k">for</span> the specified command.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">To use the FOR <span class="nb">command</span> in a batch program, specify %%variable instead
</span></span><span class="line"><span class="cl">of %variable.  Variable names are <span class="k">case</span> sensitive, so %i is different
</span></span><span class="line"><span class="cl">from %I.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">If Command Extensions are enabled, the following additional
</span></span><span class="line"><span class="cl">forms of the FOR <span class="nb">command</span> are supported:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FOR /D %variable IN <span class="o">(</span><span class="nb">set</span><span class="o">)</span> DO <span class="nb">command</span> <span class="o">[</span>command-parameters<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    If <span class="nb">set</span> contains wildcards, <span class="k">then</span> specifies to match against directory
</span></span><span class="line"><span class="cl">    names instead of file names.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FOR /R <span class="o">[[</span>drive:<span class="o">]</span>path<span class="o">]</span> %variable IN <span class="o">(</span><span class="nb">set</span><span class="o">)</span> DO <span class="nb">command</span> <span class="o">[</span>command-parameters<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Walks the directory tree rooted at <span class="o">[</span>drive:<span class="o">]</span>path, executing the FOR
</span></span><span class="line"><span class="cl">    statement in each directory of the tree.  If no directory
</span></span><span class="line"><span class="cl">    specification is specified after /R <span class="k">then</span> the current directory is
</span></span><span class="line"><span class="cl">    assumed.  If <span class="nb">set</span> is just a single period <span class="o">(</span>.<span class="o">)</span> character <span class="k">then</span> it
</span></span><span class="line"><span class="cl">    will just enumerate the directory tree.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FOR /L %variable IN <span class="o">(</span>start,step,end<span class="o">)</span> DO <span class="nb">command</span> <span class="o">[</span>command-parameters<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    The <span class="nb">set</span> is a sequence of numbers from start to end, by step amount.
</span></span><span class="line"><span class="cl">    So <span class="o">(</span>1,1,5<span class="o">)</span> would generate the sequence <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> and <span class="o">(</span>5,-1,1<span class="o">)</span> would
</span></span><span class="line"><span class="cl">    generate the sequence <span class="o">(</span><span class="m">5</span> <span class="m">4</span> <span class="m">3</span> <span class="m">2</span> 1<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FOR /F <span class="o">[</span><span class="s2">"options"</span><span class="o">]</span> %variable IN <span class="o">(</span>file-set<span class="o">)</span> DO <span class="nb">command</span> <span class="o">[</span>command-parameters<span class="o">]</span>
</span></span><span class="line"><span class="cl">FOR /F <span class="o">[</span><span class="s2">"options"</span><span class="o">]</span> %variable IN <span class="o">(</span><span class="s2">"string"</span><span class="o">)</span> DO <span class="nb">command</span> <span class="o">[</span>command-parameters<span class="o">]</span>
</span></span><span class="line"><span class="cl">FOR /F <span class="o">[</span><span class="s2">"options"</span><span class="o">]</span> %variable IN <span class="o">(</span><span class="s1">'command'</span><span class="o">)</span> DO <span class="nb">command</span> <span class="o">[</span>command-parameters<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    or, <span class="k">if</span> usebackq option present:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FOR /F <span class="o">[</span><span class="s2">"options"</span><span class="o">]</span> %variable IN <span class="o">(</span>file-set<span class="o">)</span> DO <span class="nb">command</span> <span class="o">[</span>command-parameters<span class="o">]</span>
</span></span><span class="line"><span class="cl">FOR /F <span class="o">[</span><span class="s2">"options"</span><span class="o">]</span> %variable IN <span class="o">(</span><span class="s1">'string'</span><span class="o">)</span> DO <span class="nb">command</span> <span class="o">[</span>command-parameters<span class="o">]</span>
</span></span><span class="line"><span class="cl">FOR /F <span class="o">[</span><span class="s2">"options"</span><span class="o">]</span> %variable IN <span class="o">(</span><span class="sb">`</span><span class="nb">command</span><span class="sb">`</span><span class="o">)</span> DO <span class="nb">command</span> <span class="o">[</span>command-parameters<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    file-set is one or more file names.  Each file is opened, <span class="nb">read</span>
</span></span><span class="line"><span class="cl">    and processed before going on to the next file in file-set.
</span></span><span class="line"><span class="cl">    Processing consists of reading in the file, breaking it up into
</span></span><span class="line"><span class="cl">    individual lines of text and <span class="k">then</span> parsing each line into zero or
</span></span><span class="line"><span class="cl">    more tokens.  The body of the <span class="k">for</span> loop is <span class="k">then</span> called with the
</span></span><span class="line"><span class="cl">    variable value<span class="o">(</span>s<span class="o">)</span> <span class="nb">set</span> to the found token string<span class="o">(</span>s<span class="o">)</span>.  By default, /F
</span></span><span class="line"><span class="cl">    passes the first blank separated token from each line of each file.
</span></span><span class="line"><span class="cl">    Blank lines are skipped.  You can override the default parsing
</span></span><span class="line"><span class="cl">    behavior by specifying the optional <span class="s2">"options"</span> parameter.  This
</span></span><span class="line"><span class="cl">    is a quoted string which contains one or more keywords to specify
</span></span><span class="line"><span class="cl">    different parsing options.  The keywords are:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nv">eol</span><span class="o">=</span>c           - specifies an end of line comment character
</span></span><span class="line"><span class="cl">                          <span class="o">(</span>just one<span class="o">)</span>
</span></span><span class="line"><span class="cl">        <span class="nv">skip</span><span class="o">=</span>n          - specifies the number of lines to skip at the
</span></span><span class="line"><span class="cl">                          beginning of the file.
</span></span><span class="line"><span class="cl">        <span class="nv">delims</span><span class="o">=</span>xxx      - specifies a delimiter set.  This replaces the
</span></span><span class="line"><span class="cl">                          default delimiter <span class="nb">set</span> of space and tab.
</span></span><span class="line"><span class="cl">        <span class="nv">tokens</span><span class="o">=</span>x,y,m-n  - specifies which tokens from each line are to
</span></span><span class="line"><span class="cl">                          be passed to the <span class="k">for</span> body <span class="k">for</span> each iteration.
</span></span><span class="line"><span class="cl">                          This will cause additional variable names to
</span></span><span class="line"><span class="cl">                          be allocated.  The m-n form is a range,
</span></span><span class="line"><span class="cl">                          specifying the mth through the nth tokens.  If
</span></span><span class="line"><span class="cl">                          the last character in the <span class="nv">tokens</span><span class="o">=</span> string is an
</span></span><span class="line"><span class="cl">                          asterisk, <span class="k">then</span> an additional variable is
</span></span><span class="line"><span class="cl">                          allocated and receives the remaining text on
</span></span><span class="line"><span class="cl">                          the line after the last token parsed.
</span></span><span class="line"><span class="cl">        usebackq        - specifies that the new semantics are in force,
</span></span><span class="line"><span class="cl">                          where a back quoted string is executed as a
</span></span><span class="line"><span class="cl">                          <span class="nb">command</span> and a single quoted string is a
</span></span><span class="line"><span class="cl">                          literal string <span class="nb">command</span> and allows the use of
</span></span><span class="line"><span class="cl">                          double quotes to quote file names in
</span></span><span class="line"><span class="cl">                          file-set.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Some examples might help:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FOR /F <span class="s2">"eol=; tokens=2,3* delims=, "</span> %i in <span class="o">(</span>myfile.txt<span class="o">)</span> <span class="k">do</span> @echo %i %j %k
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    would parse each line in myfile.txt, ignoring lines that begin with
</span></span><span class="line"><span class="cl">    a semicolon, passing the 2nd and 3rd token from each line to the <span class="k">for</span>
</span></span><span class="line"><span class="cl">    body, with tokens delimited by commas and/or spaces.  Notice the <span class="k">for</span>
</span></span><span class="line"><span class="cl">    body statements reference %i to get the 2nd token, %j to get the
</span></span><span class="line"><span class="cl">    3rd token, and %k to get all remaining tokens after the 3rd.  For
</span></span><span class="line"><span class="cl">    file names that contain spaces, you need to quote the filenames with
</span></span><span class="line"><span class="cl">    double quotes.  In order to use double quotes in this manner, you also
</span></span><span class="line"><span class="cl">    need to use the usebackq option, otherwise the double quotes will be
</span></span><span class="line"><span class="cl">    interpreted as defining a literal string to parse.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    %i is explicitly declared in the <span class="k">for</span> statement and the %j and %k
</span></span><span class="line"><span class="cl">    are implicitly declared via the <span class="nv">tokens</span><span class="o">=</span> option.  You can specify up
</span></span><span class="line"><span class="cl">    to <span class="m">26</span> tokens via the <span class="nv">tokens</span><span class="o">=</span> line, provided it does not cause an
</span></span><span class="line"><span class="cl">    attempt to <span class="nb">declare</span> a variable higher than the letter <span class="s1">'z'</span> or <span class="s1">'Z'</span>.
</span></span><span class="line"><span class="cl">    Remember, FOR variables are single-letter, <span class="k">case</span> sensitive, global,
</span></span><span class="line"><span class="cl">    and you can<span class="err">'</span>t have more than <span class="m">52</span> total active at any one time.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    You can also use the FOR /F parsing logic on an immediate string, by
</span></span><span class="line"><span class="cl">    making the file-set between the parenthesis a quoted string,
</span></span><span class="line"><span class="cl">    using single quote characters.  It will be treated as a single line
</span></span><span class="line"><span class="cl">    of input from a file and parsed.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Finally, you can use the FOR /F <span class="nb">command</span> to parse the output of a
</span></span><span class="line"><span class="cl">    command.  You <span class="k">do</span> this by making the file-set between the
</span></span><span class="line"><span class="cl">    parenthesis a back quoted string.  It will be treated as a <span class="nb">command</span>
</span></span><span class="line"><span class="cl">    line, which is passed to a child CMD.EXE and the output is captured
</span></span><span class="line"><span class="cl">    into memory and parsed as <span class="k">if</span> it was a file.  So the following
</span></span><span class="line"><span class="cl">    example:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      FOR /F <span class="s2">"usebackq delims=="</span> %i IN <span class="o">(</span><span class="sb">`</span><span class="nb">set</span><span class="sb">`</span><span class="o">)</span> DO @echo %i
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    would enumerate the environment variable names in the current
</span></span><span class="line"><span class="cl">    environment.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">In addition, substitution of FOR variable references has been enhanced.
</span></span><span class="line"><span class="cl">You can now use the following optional syntax:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    %~I         - expands %I removing any surrounding quotes <span class="o">(</span><span class="s2">")
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~fI        - expands %I to a fully qualified path name
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~dI        - expands %I to a drive letter only
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~pI        - expands %I to a path only
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~nI        - expands %I to a file name only
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~xI        - expands %I to a file extension only
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~sI        - expanded path contains short names only
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~aI        - expands %I to file attributes of file
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~tI        - expands %I to date/time of file
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~zI        - expands %I to size of file
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~</span><span class="nv">$PATH</span><span class="s2">:I   - searches the directories listed in the PATH
</span></span></span><span class="line"><span class="cl"><span class="s2">                   environment variable and expands %I to the
</span></span></span><span class="line"><span class="cl"><span class="s2">                   fully qualified name of the first one found.
</span></span></span><span class="line"><span class="cl"><span class="s2">                   If the environment variable name is not
</span></span></span><span class="line"><span class="cl"><span class="s2">                   defined or the file is not found by the
</span></span></span><span class="line"><span class="cl"><span class="s2">                   search, then this modifier expands to the
</span></span></span><span class="line"><span class="cl"><span class="s2">                   empty string
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">The modifiers can be combined to get compound results:
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~dpI       - expands %I to a drive letter and path only
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~nxI       - expands %I to a file name and extension only
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~fsI       - expands %I to a full path name with short names only
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~dp</span><span class="nv">$PATH</span><span class="s2">:I - searches the directories listed in the PATH
</span></span></span><span class="line"><span class="cl"><span class="s2">                   environment variable for %I and expands to the
</span></span></span><span class="line"><span class="cl"><span class="s2">                   drive letter and path of the first one found.
</span></span></span><span class="line"><span class="cl"><span class="s2">    %~ftzaI     - expands %I to a DIR like output line
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">In the above examples %I and PATH can be replaced by other valid
</span></span></span><span class="line"><span class="cl"><span class="s2">values.  The %~ syntax is terminated by a valid FOR variable name.
</span></span></span><span class="line"><span class="cl"><span class="s2">Picking upper case variable names like %I makes it more readable and
</span></span></span><span class="line"><span class="cl"><span class="s2">avoids confusion with the modifiers, which are not case sensitive.</span></span></span></code></pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>

      <div class="forum-link">
  Found a mistake? Have a question or improvement idea?
  <a href="for-bad676c158e747ff96145309fead1b63.html#" onclick="showContact(); return false;">Let me know</a>.
</div>

      <form id="contact-form" action="https://formsubmit.co/kkowalczyk@gmail.com" method="POST">
  <p>
    </p><div class="contact-light">Feedback about page:</div>
    <input type="text" name="page-url" id="contact-page-url" readonly>
  

  <p>
    </p><div class="contact-light">Feedback:</div>
    <textarea name="message" id="msg-for-chris"></textarea>
    <div class="contact-light">Optional: your email if you want me to get back to you: </div>
    <input type="email" name="email">
    <input type="hidden" name="_template" value="box">
    <input type="text" name="_honey" class="noshow">
  

  <p>
    <button type="submit" class="contact-btn">
      Send Feedback
    </button>

    <button class="contact-btn" style="float: right;" onclick="hideContact(); return false;">
      Cancel
    </button>
  </p>
</form>


      <hr class="article-bottom-sep">
    </div>

    <div id="page-toc"><div class="article chapter-toc svelte-1t851gm"><div class="mtoc-0 svelte-1t851gm"><b>Built-in commands:</b></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="assoc-919a7b5dbcee4cec9fd1983e81eb611f.html">ASSOC</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="break-a3d58a10ca22415c880f360a91e5c317.html">BREAK</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="call-2564ea9091d94506bbbdaa190a709112.html">CALL</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="cd-chdir-51f8baa67587422e83e7734186d3e82b.html">CD, CHDIR</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="cls-8c287099f78d443cb7f3928bb7ce94a5.html">CLS</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="color-012db9e2aa45442da6ccc76d3aa6871a.html">COLOR</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="copy-b7ceb52ddfc840168d9be463185382c8.html">COPY</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="del-erase-7467801d6f904c3d93d30c315afc01d6.html">DEL, ERASE</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="dir-4e5fd41eb3a5414db425f8f666a4b16e.html">DIR</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="date-158d36f1c9da476293b77ef1c825b016.html">DATE</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="echo-431d20db918648bd85a39584876868f8.html">ECHO</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="else-bd67e773d9cf44a59eebc8839dcfb7ad.html">ELSE</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="endlocal-064c3babba674d3889ebf0ed47da41ee.html">ENDLOCAL</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="exit-5bf17afc72c34152a69ac4f0cb929277.html">EXIT</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><b>FOR</b></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="ftype-8fab8c9ceb6844cc979763e27cbbf301.html">FTYPE</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="goto-987419c9b64d4421bfe238f9db65d492.html">GOTO</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="if-3efa96b08834478eb9d87574e024e74f.html">IF</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="md-mkdir-97dad359d350498cb02664e1786a5b40.html">MD, MKDIR</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="mklink-5603394a154f4814a31c7bcec6f9ec19.html">MKLINK</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="move-5c4b094e03024241aaf8af3375f612aa.html">MOVE</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="path-724f35d412174a7dbf5a79d582f48dc0.html">PATH</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="pause-505bd0f7c76d4854a732a16478224b47.html">PAUSE</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="popd-0a6db5c64bf04b648dbfc07eeaa04a74.html">POPD</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="prompt-dffefd5a9e97414c86e252afb7e4b128.html">PROMPT</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="pushd-78a3d516d23f4875b698207bbdc8c1bf.html">PUSHD</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="rd-rmdir-f29bae4770114b32801c1024b9b40080.html">RD, RMDIR</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="ren-rename-a112c317e0824eef93ce8d74d8e6bec7.html">REN, RENAME</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="rem-0ba8bb217e4648638214c5762f682b47.html">REM</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="set-540c344e1358419fb62ff4cc35e604b8.html">SET</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="setlocal-bbf053c93ff64f92b00f8c61650c395b.html">SETLOCAL</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="shift-4053d835d97844b3a5ac7ebe7f72554b.html">SHIFT</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="start-d249dd3735fa4f44970ff545f78d229f.html">START</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="time-7130bd4795354d56b9c69e60d0a4b4a7.html">TIME</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="title-262e9bcf551440feafd4f0cf585c593d.html">TITLE</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="type-027211636b8548f4abca0f6f632e0292.html">TYPE</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="ver-f81bbfb999bf4d2ca686eeaeee1c500b.html">VER</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="verify-8e56b95563a740bc9b916e670d50a373.html">VERIFY</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="vol-3d7f70972f674dfd9951e630b4ec3c40.html">VOL</a></div></div></div>

    <div id="chapter-toc-wrapper">
      <hr>
      <div class="hdr">Table Of Contents</div>
      <div id="book-toc"><div class="article toc svelte-1ib47n1"><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">0</span><a href="introduction-846c7623625e434bb3c481641bf2e016.html">Introduction</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">1</span><a href="how-a-command-line-is-interpreted-cac61c915fce40c89a25c98ec229c5d6.html">How a command line is interpreted</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">2</span><a href="batch-reloading-98bc367236ef48559db589eddaa811ff.html">Batch reloading</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">3</span><a href="environment-variables-01b28cfb0b9b45409515334357d5f9bf.html">Environment variables</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">4</span><a href="switches-9e2a7d8c43bb46f29962b0d2f195e19c.html">Switches</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">5</span><a href="error-level-c70d88bae6d545b7a5b5ca99e777b409.html">Error level</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">6</span><a href="string-processing-20d44ad6fccd4a048e3464a4dd3d4570.html">String processing</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">7</span><a href="command-line-arguments-6a6ffadba81b4cc6a979f7e1ee4ea4aa.html">Command-line arguments</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">8</span><a href="wildcards-2b952cca7aee49b2a4a709c4c4ad5aef.html">Wildcards</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">9</span><a href="user-input-5726d65b176c49ebb21d2daa271031f9.html">User input</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">10</span><a href="-percent-tilde-f4263820c2db41e399c77259970464f1.html">%~ (percent tilde)</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">11</span><a href="functions-f516efa981d9481ca4253d271451381d.html">Functions</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">12</span><a href="calculation-06c65868038c4e2ab21937d82bebc6c0.html">Calculation</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">13</span><a href="finding-files-af14c29c29d740609e9e8c887a2c3cb7.html">Finding files</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">14</span><a href="keyboard-shortcuts-af2ffcc6632c4dada420d99695ca6c10.html">Keyboard shortcuts</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">15</span><a href="paths-47408b417b4f4392a3bc79fe552b4895.html">Paths</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">16</span><a href="arrays-dc75afb35c164e29a9018d897be1f452.html">Arrays</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">17</span><a href="perl-one-liners-bdb9a0cee7bf4ca09a8bb650e6e2cad7.html">Perl one-liners</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">18</span><a href="limitations-09c168245f2e40d99e684733fb760091.html">Limitations</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">19</span><b>Built-in commands</b></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">20</span><a href="external-commands-f83d61795cb74a38996cd6085d1d63cb.html">External commands</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">21</span><a href="legal-credits-fde438abeea34c909d226a9d31209ee8.html">Legal & credits</a></div></div></div></div>
    </div>
  </div></body>
</html>