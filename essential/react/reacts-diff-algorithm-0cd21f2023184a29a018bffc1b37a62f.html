<!doctype html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../../assets/main.css" rel="stylesheet">
</head>
<body class="page">
<header class="page__header">
    <div class="page__header__left">
        <a id="link-home" href="../../index.html">
            &nbsp;Essential Books</a>
    </div>
</header>
<div class="content">
    <div class="article">
      

<div style="display: flex; justify-content: space-between">
  <h1 class="title">Reacts diff algorithm</h1>
  <a class="edit-link" style="font-size: 80%" href="https://notion.so/0cd21f2023184a29a018bffc1b37a62f" rel="nofollow" target="_blank">suggest change</a>
</div>


      
<p>Generating the minimum number of operations to transform one tree into another have a complexity in the order of O(n^3) where n is the number of nodes in the tree. React relies on two assumptions to solve this problem in a linear time - O(n)
</p>
  <ol id="0d807e7b-d8fb-4cda-917b-35293faa08b9" class="numbered-list" start="1">
    <li>Two components of the same class will generate similar trees and tw components of different classes will generate different trees.
    </li>
    <li>It is possible to provide a unique key for elements that is stable across different renders.
    </li>
  </ol>
<p>In order to decide if two nodes are different, React differentiates 3 cases
</p>
  <ol id="dccc913a-5bde-415b-84bd-3c3e2fdafe41" class="numbered-list" start="1">
    <li>Two nodes are different, if they have different types.
    </li>
  </ol>
  <ul id="8522b4ef-c68d-4c62-a4a5-2c8800293c48" class="bulleted-list">
    <li>for example, <code>&lt;div&gt;...&lt;/div&gt;</code> is different from <code>&lt;span&gt;...&lt;/span&gt;</code>
    </li>
  </ul>
  <ol id="bdad86f2-0107-4fd9-bd24-f5e43da95613" class="numbered-list" start="1">
    <li>Whenever two nodes have different keys
    </li>
  </ol>
  <ul id="136fbf71-3774-406b-b514-673de9545678" class="bulleted-list">
    <li>for example, <code>&lt;div key="1"&gt;...&lt;/div&gt;</code> is different from <code>&lt;div key="2"&gt;...&lt;/div&gt;</code>
    </li>
  </ul>
<p>Moreover, <strong>what follows is crucial and extremely important to understand</strong> if you want to optimise performance
</p>
<blockquote id="9ea17eb3-d303-4b99-b9ab-c68c0ef6cd54" class="">If they [two nodes] are not of the same type, React is not going to even try at matching what they render. It is just going to remove the first one from the DOM and insert the second one.
</blockquote>
<p>Hereâ€™s why
</p>
<blockquote id="88ccb4dd-abc6-4241-ab6c-007c31c27673" class="">It is very unlikely that a element is going to generate a DOM that is going to look like what a would generate. Instead of spending time trying to match those two structures, React just re-builds the tree from scratch.
</blockquote>

      <div class="forum-link">
  Found a mistake? Have a question or improvement idea?
  <a href="reacts-diff-algorithm-0cd21f2023184a29a018bffc1b37a62f.html#" onclick="showContact(); return false;">Let me know</a>.
</div>

      <form id="contact-form" action="https://formsubmit.co/kkowalczyk@gmail.com" method="POST">
  <p>
    </p><div class="contact-light">Feedback about page:</div>
    <input type="text" name="page-url" id="contact-page-url" readonly>
  

  <p>
    </p><div class="contact-light">Feedback:</div>
    <textarea name="message" id="msg-for-chris"></textarea>
    <div class="contact-light">Optional: your email if you want me to get back to you: </div>
    <input type="email" name="email">
    <input type="hidden" name="_template" value="box">
    <input type="text" name="_honey" class="noshow">
  

  <p>
    <button type="submit" class="contact-btn">
      Send Feedback
    </button>

    <button class="contact-btn" style="float: right;" onclick="hideContact(); return false;">
      Cancel
    </button>
  </p>
</form>


      <hr class="article-bottom-sep">
    </div>

    <div id="page-toc"><div class="article chapter-toc svelte-1t851gm"><div class="mtoc-0 svelte-1t851gm"><b>Performance:</b></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="performance-0bf283d2aa364db5adb9e01212078033.html">Performance</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="performance-measurement-with-reactjs-4bdcd782ee8744faafe98ab5c30825de.html">Performance measurement with ReactJS</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><b>Reacts diff algorithm</b></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="the-basics-html-dom-vs-virtual-dom-a6868514a13f4865bec486ae5859dae8.html">The Basics - HTML DOM vs Virtual DOM</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="tips-tricks-ed08ffefb8d94165b263ab517fac9ddd.html">Tips Tricks</a></div></div></div>

    <div id="chapter-toc-wrapper">
      <hr>
      <div class="hdr">Table Of Contents</div>
      <div id="book-toc"><div class="article toc svelte-1ib47n1"><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">0</span><a href="getting-started-54e1310d46924318b4045f886461565a.html">Getting started</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">1</span><a href="components-da8fafc65f35422090b192f7b2069ee8.html">Components</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">2</span><a href="react-with-typescript-a412494709ed4600a460a5f24acfbd6a.html">React with TypeScript</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">3</span><a href="state-in-react-6cafc1d7863342d6b702833db7d26eed.html">State in React</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">4</span><a href="props-in-react-457619196bc54ffab9b6ef83a7c7ae4e.html">Props in react</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">5</span><a href="react-component-lifecycle-3be1a9d383e846d7add61ee03c2e1899.html">React component lifecycle</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">6</span><a href="forms-and-user-input-3731d999c1bc4c1ba0aad1d9fc9593cd.html">Forms and user input</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">7</span><a href="react-boilerpate-for-babel-and-webpack-d91668aeeb754c8389467b1d4f7a037b.html">React boilerpate for babel and webpack</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">8</span><a href="using-react-with-jquery-7a9b795a6e6a47be84283835a236c536.html">Using React with jQuery</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">9</span><a href="react-routing-d70042712e4c4340bb8bd5647d3f0de2.html">React routing</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">10</span><a href="communication-between-components-fe58dcb8c9784ad9bc8b66067b6739ab.html">Communication between components</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">11</span><a href="basic-webpack-and-babel-setup-9c40f65e1bdc4f72a972d646271de386.html">Basic webpack and babel setup</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">12</span><a href="react.createclass-vs.-extends-react.component-de02e09ab95b41ac9225187428487c3b.html">React.createClass vs. extends React.Component</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">13</span><a href="react-ajax-call-a8bc3cbf7d9a4b5496324ea3f34b4215.html">React AJAX call</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">14</span><a href="installation-d6b4365eb5e2455eb92324ce2c042efa.html">Installation</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">15</span><a href="communication-between-components-5163a4c021234f18b52c444de537938e.html">Communication between components</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">16</span><a href="stateless-functional-components-d6dde1b52eeb4b6387418b4354c7eb3d.html">Stateless functional components</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">17</span><a href="react-tools-fed8312431e94e36941f0b835aeea1e3.html">React tools</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">18</span><b>Performance</b></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">19</span><a href="introduction-to-server-side-rendering-ea8b8930641545dcadb06d60dc3f3886.html">Introduction to server-side rendering</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">20</span><a href="setting-up-react-environment-066cca80f2534328bdc050ac81ba02b8.html">Setting up React environment</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">21</span><a href="using-react-with-flow-866a5fd05a0b4ef5b0af0bf0ef5a0f69.html">Using React with Flow</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">22</span><a href="jsx-34c251a5b7b846718f7511f5330f0a43.html">JSX</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">23</span><a href="react-forms-019d61bd45f14dedba132dc288859c44.html">React Forms</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">24</span><a href="user-interface-solutions-ce60866333cc4b42bb6badecebad2004.html">User interface solutions</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">25</span><a href="react-and-flux-edae1dcd128b4d41ab944aead7cf1ee1.html">React and Flux</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">26</span><a href="webpack-and-typescript-installation-c5841c99b28848b99d6b1734bb17732c.html">Webpack and TypeScript installation</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">27</span><a href="how-and-why-to-use-keys-9f918454eff24d55aa16396edf968bd3.html">How and why to use keys</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">28</span><a href="keys-in-react-2b18d28b641948efaaca668f0278d521.html">Keys in React</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">29</span><a href="higher-order-components-hoc-7107118caf64488f8118718eda6e81ca.html">Higher Order Components (HOC)</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">30</span><a href="react-with-redux-24659cb7c4c64deaa32aa5fdc61ede53.html">React with redux</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">31</span><a href="contributors-9530c91670894e5a859d6b4424d423b7.html">Contributors</a></div></div></div></div>
    </div>
  </div></body>
</html>