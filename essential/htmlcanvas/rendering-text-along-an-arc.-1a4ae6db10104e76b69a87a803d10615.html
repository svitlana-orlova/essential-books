<!doctype html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../../assets/main.css" rel="stylesheet">
</head>
<body class="page">
<header class="page__header">
    <div class="page__header__left">
        <a id="link-home" href="../../index.html">
            &nbsp;Essential Books</a>
    </div>
</header>
<div class="content">
    <div class="article">
      

<div style="display: flex; justify-content: space-between">
  <h1 class="title">Rendering text along an arc.</h1>
  <a class="edit-link" style="font-size: 80%" href="https://notion.so/1a4ae6db10104e76b69a87a803d10615" rel="nofollow" target="_blank">suggest change</a>
</div>


      
<p>This example shows how to render text along an arc. It includes how you can add functionality to the <code>CanvasRenderingContext2D</code> by extending its prototype.
</p>
<p>This examples is derived from the stackoverflow answer <a href="http://stackoverflow.com/a/34170195/3877726">Circular Text</a>.
</p>
  <h2 id="f5f4ac00-6696-4e9e-88f9-7cf002ba1613" class=""><strong>Example rendering</strong>
  <a class="header-anchor" href="rendering-text-along-an-arc.-1a4ae6db10104e76b69a87a803d10615.html#f5f4ac00-6696-4e9e-88f9-7cf002ba1613" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h2>
<img class="img" src="img/d02c5bd920c90ae431d3f28f3fd005024ffafee1.png.html">
<hr id="6b9bb237-fb6e-4fdc-9951-7164d3d80832">
  <h2 id="3948fa67-11dc-4b81-baa9-3896118c2182" class="">Example code
  <a class="header-anchor" href="rendering-text-along-an-arc.-1a4ae6db10104e76b69a87a803d10615.html#3948fa67-11dc-4b81-baa9-3896118c2182" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h2>
<p>The example adds 3 new text rendering functions to the 2D context prototype.
</p>
  <ul id="9818b1a9-a516-46b5-96ac-e554ecc5532f" class="bulleted-list">
    <li><strong>ctx.fillCircleText(text, x, y, radius, start, end, forward);</strong>
    </li>
    <li><strong>ctx.strokeCircleText(text, x, y, radius, start, end, forward);</strong>
    </li>
    <li><strong>ctx.measureCircleText(text, radius);</strong>
    </li>
  </ul>

<div class="code-box lang-JavaScript">
	<div>
	<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">FILL</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>        <span class="c1">// const to indicate filltext render
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">STROKE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">renderType</span> <span class="o">=</span> <span class="nx">FILL</span><span class="p">;</span> <span class="c1">// used internal to set fill or stroke text
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">multiplyCurrentTransform</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="c1">// if true Use current transform when rendering
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                                           <span class="c1">// if false use absolute coordinates which is a little quicker
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                                           <span class="c1">// after render the currentTransform is restored to default transform
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                                           
</span></span><span class="line"><span class="cl">      
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// measure circle text
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ctx: canvas context
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// text: string of text to measure
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// r: radius in pixels
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// returns the size metrics of the text
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// width: Pixel width of text
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// angularWidth : angular width of text in radians
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// pixelAngularSize : angular width of a pixel in radians
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">var</span> <span class="nx">measure</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">radius</span><span class="p">){</span>        
</span></span><span class="line"><span class="cl">        <span class="kd">var</span> <span class="nx">textWidth</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">measureText</span><span class="p">(</span><span class="nx">text</span><span class="p">).</span><span class="nx">width</span><span class="p">;</span> <span class="c1">// get the width of all the text
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">width</span>               <span class="o">:</span> <span class="nx">textWidth</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">angularWidth</span>        <span class="o">:</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nx">textWidth</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">pixelAngularSize</span>    <span class="o">:</span> <span class="mi">1</span> <span class="o">/</span> <span class="nx">radius</span>
</span></span><span class="line"><span class="cl">        <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// displays text along a circle
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ctx: canvas context
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// text: string of text to measure
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// x,y: position of circle center
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// r: radius of circle in pixels
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// start: angle in radians to start. 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// [end]: optional. If included text align is ignored and the text is 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//        scaled to fit between start and end;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// [forward]: optional default true. if true text direction is forwards, if false  direction is backward
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">var</span> <span class="nx">circleText</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">,</span> <span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">,</span> <span class="nx">forward</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">textWidth</span><span class="p">,</span> <span class="nx">pA</span><span class="p">,</span> <span class="nx">pAS</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">aw</span><span class="p">,</span> <span class="nx">wScale</span><span class="p">,</span> <span class="nx">aligned</span><span class="p">,</span> <span class="nx">dir</span><span class="p">,</span> <span class="nx">fontSize</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="nx">text</span><span class="p">.</span><span class="nx">trim</span><span class="p">()</span> <span class="o">===</span> <span class="s2">""</span> <span class="o">||</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">globalAlpha</span> <span class="o">===</span> <span class="mi">0</span><span class="p">){</span> <span class="c1">// dont render empty string or transparent
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="o">||</span> <span class="nb">isNaN</span><span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="o">||</span> <span class="nb">isNaN</span><span class="p">(</span><span class="nx">radius</span><span class="p">)</span> <span class="o">||</span> <span class="nb">isNaN</span><span class="p">(</span><span class="nx">start</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nx">end</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">end</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nb">isNaN</span><span class="p">(</span><span class="nx">end</span><span class="p">))){</span> <span class="c1">// 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"circle text arguments requires a number for x,y, radius, start, and end."</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">aligned</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">textAlign</span><span class="p">;</span>        <span class="c1">// save the current textAlign so that it can be restored at end
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">dir</span> <span class="o">=</span> <span class="nx">forward</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="nx">forward</span> <span class="o">===</span> <span class="kc">false</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>  <span class="c1">// set dir if not true or false set forward as true  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">pAS</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="nx">radius</span><span class="p">;</span>               <span class="c1">// get the angular size of a pixel in radians
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">textWidth</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">measureText</span><span class="p">(</span><span class="nx">text</span><span class="p">).</span><span class="nx">width</span><span class="p">;</span> <span class="c1">// get the width of all the text
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="nx">end</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">end</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// if end is supplied then fit text between start and end
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">pA</span> <span class="o">=</span> <span class="p">((</span><span class="nx">end</span> <span class="o">-</span> <span class="nx">start</span><span class="p">)</span> <span class="o">/</span> <span class="nx">textWidth</span><span class="p">)</span> <span class="o">*</span> <span class="nx">dir</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">wScale</span> <span class="o">=</span> <span class="p">(</span><span class="nx">pA</span> <span class="o">/</span> <span class="nx">pAS</span><span class="p">)</span> <span class="o">*</span> <span class="nx">dir</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>                 <span class="c1">// if no end is supplied correct start and end for alignment
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">// if forward is not given then swap top of circle text to read the correct direction
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">if</span><span class="p">(</span><span class="nx">forward</span> <span class="o">===</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">forward</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span><span class="p">(((</span><span class="nx">start</span> <span class="o">%</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">dir</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">pA</span> <span class="o">=</span> <span class="o">-</span><span class="nx">pAS</span> <span class="o">*</span> <span class="nx">dir</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">wScale</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="nx">dir</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">switch</span> <span class="p">(</span><span class="nx">aligned</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">case</span> <span class="s2">"center"</span><span class="o">:</span>       <span class="c1">// if centered move around half width
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">start</span> <span class="o">-=</span> <span class="p">(</span><span class="nx">pA</span> <span class="o">*</span> <span class="nx">textWidth</span> <span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="nx">end</span> <span class="o">=</span> <span class="nx">start</span> <span class="o">+</span> <span class="nx">pA</span> <span class="o">*</span> <span class="nx">textWidth</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">case</span> <span class="s2">"right"</span><span class="o">:</span><span class="c1">// intentionally falls through to case "end"
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">case</span> <span class="s2">"end"</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                <span class="nx">end</span> <span class="o">=</span> <span class="nx">start</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="nx">start</span> <span class="o">-=</span> <span class="nx">pA</span> <span class="o">*</span> <span class="nx">textWidth</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">case</span> <span class="s2">"left"</span><span class="o">:</span>  <span class="c1">// intentionally falls through to case "start"
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">case</span> <span class="s2">"start"</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                <span class="nx">end</span> <span class="o">=</span> <span class="nx">start</span> <span class="o">+</span> <span class="nx">pA</span> <span class="o">*</span> <span class="nx">textWidth</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">ctx</span><span class="p">.</span><span class="nx">textAlign</span> <span class="o">=</span> <span class="s2">"center"</span><span class="p">;</span>                     <span class="c1">// align for rendering
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">a</span> <span class="o">=</span> <span class="nx">start</span><span class="p">;</span>                                    <span class="c1">// set the start angle
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">text</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>    <span class="c1">// for each character
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">aw</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">measureText</span><span class="p">(</span><span class="nx">text</span><span class="p">[</span><span class="nx">i</span><span class="p">]).</span><span class="nx">width</span> <span class="o">*</span> <span class="nx">pA</span><span class="p">;</span> <span class="c1">// get the angular width of the text
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="kd">var</span> <span class="nx">xDx</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">aw</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>           <span class="c1">// get the yAxies vector from the center x,y out
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="kd">var</span> <span class="nx">xDy</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">aw</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="nx">multiplyCurrentTransform</span><span class="p">){</span> <span class="c1">// transform multiplying current transform
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">ctx</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="p">(</span><span class="nx">xDy</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// is the text upside down. If it is flip it
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">ctx</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="o">-</span><span class="nx">xDy</span> <span class="o">*</span> <span class="nx">wScale</span><span class="p">,</span> <span class="nx">xDx</span> <span class="o">*</span> <span class="nx">wScale</span><span class="p">,</span> <span class="o">-</span><span class="nx">xDx</span><span class="p">,</span> <span class="o">-</span><span class="nx">xDy</span><span class="p">,</span> <span class="nx">xDx</span> <span class="o">*</span> <span class="nx">radius</span> <span class="o">+</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">xDy</span> <span class="o">*</span> <span class="nx">radius</span> <span class="o">+</span> <span class="nx">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">ctx</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="o">-</span><span class="nx">xDy</span> <span class="o">*</span> <span class="nx">wScale</span><span class="p">,</span> <span class="nx">xDx</span> <span class="o">*</span> <span class="nx">wScale</span><span class="p">,</span> <span class="nx">xDx</span><span class="p">,</span> <span class="nx">xDy</span><span class="p">,</span> <span class="nx">xDx</span> <span class="o">*</span> <span class="nx">radius</span> <span class="o">+</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">xDy</span> <span class="o">*</span> <span class="nx">radius</span> <span class="o">+</span> <span class="nx">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span><span class="k">else</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="p">(</span><span class="nx">xDy</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// is the text upside down. If it is flip it
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">ctx</span><span class="p">.</span><span class="nx">setTransform</span><span class="p">(</span><span class="o">-</span><span class="nx">xDy</span> <span class="o">*</span> <span class="nx">wScale</span><span class="p">,</span> <span class="nx">xDx</span> <span class="o">*</span> <span class="nx">wScale</span><span class="p">,</span> <span class="o">-</span><span class="nx">xDx</span><span class="p">,</span> <span class="o">-</span><span class="nx">xDy</span><span class="p">,</span> <span class="nx">xDx</span> <span class="o">*</span> <span class="nx">radius</span> <span class="o">+</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">xDy</span> <span class="o">*</span> <span class="nx">radius</span> <span class="o">+</span> <span class="nx">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">ctx</span><span class="p">.</span><span class="nx">setTransform</span><span class="p">(</span><span class="o">-</span><span class="nx">xDy</span> <span class="o">*</span> <span class="nx">wScale</span><span class="p">,</span> <span class="nx">xDx</span> <span class="o">*</span> <span class="nx">wScale</span><span class="p">,</span> <span class="nx">xDx</span><span class="p">,</span> <span class="nx">xDy</span><span class="p">,</span> <span class="nx">xDx</span> <span class="o">*</span> <span class="nx">radius</span> <span class="o">+</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">xDy</span> <span class="o">*</span> <span class="nx">radius</span> <span class="o">+</span> <span class="nx">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="nx">renderType</span> <span class="o">===</span> <span class="nx">FILL</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillText</span><span class="p">(</span><span class="nx">text</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>    <span class="c1">// render the character
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">}</span><span class="k">else</span><span class="p">{</span>                    
</span></span><span class="line"><span class="cl">                <span class="nx">ctx</span><span class="p">.</span><span class="nx">strokeText</span><span class="p">(</span><span class="nx">text</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>  <span class="c1">// render the character
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="nx">multiplyCurrentTransform</span><span class="p">){</span>  <span class="c1">// restore current transform
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">ctx</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">a</span> <span class="o">+=</span> <span class="nx">aw</span><span class="p">;</span>                     <span class="c1">// step to the next angle
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// all done clean up.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">multiplyCurrentTransform</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="nx">ctx</span><span class="p">.</span><span class="nx">setTransform</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="c1">// restore the transform
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">ctx</span><span class="p">.</span><span class="nx">textAlign</span> <span class="o">=</span> <span class="nx">aligned</span><span class="p">;</span>            <span class="c1">// restore the text alignment
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// define fill text
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">var</span> <span class="nx">fillCircleText</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">,</span> <span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">,</span> <span class="nx">forward</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="nx">renderType</span> <span class="o">=</span> <span class="nx">FILL</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">circleText</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">,</span> <span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">,</span> <span class="nx">forward</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// define stroke text
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">var</span> <span class="nx">strokeCircleText</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">,</span> <span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">,</span> <span class="nx">forward</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="nx">renderType</span> <span class="o">=</span> <span class="nx">STROKE</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">circleText</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">,</span> <span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">,</span> <span class="nx">forward</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// define measure text
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">var</span> <span class="nx">measureCircleTextExt</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span><span class="nx">radius</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">measure</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">radius</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// set the prototypes
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">CanvasRenderingContext2D</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fillCircleText</span> <span class="o">=</span> <span class="nx">fillCircleText</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">CanvasRenderingContext2D</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">strokeCircleText</span> <span class="o">=</span> <span class="nx">strokeCircleText</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">CanvasRenderingContext2D</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">measureCircleText</span> <span class="o">=</span> <span class="nx">measureCircleTextExt</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">})();</span></span></span></code></pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<hr id="cb644a56-cd99-4b02-a88a-239fbdd772b1">
  <h2 id="09337a3f-1459-459b-a212-f7e69b2ba8a1" class=""><strong>Function descriptions</strong>
  <a class="header-anchor" href="rendering-text-along-an-arc.-1a4ae6db10104e76b69a87a803d10615.html#09337a3f-1459-459b-a212-f7e69b2ba8a1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h2>
<p>This example adds 3 functions to the <code>CanvasRenderingContext2D prototype</code>. <code>fillCircleText</code>, <code>strokeCircleText</code>, and <code>measureCircleText</code>
</p>
  <h1 id="9ff4cd96-e8f6-4349-bd2f-f72774d5548b" class=""><em>CanvasRenderingContext2D.fillCircleText(text, x, y, radius, start, [end, [forward]]);</em>
  <a class="header-anchor" href="rendering-text-along-an-arc.-1a4ae6db10104e76b69a87a803d10615.html#9ff4cd96-e8f6-4349-bd2f-f72774d5548b" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h1>
  <h1 id="14ee5756-93d7-4d79-b2e3-6f3b42b6966e" class=""><em>CanvasRenderingContext2D.strokeCircleText(text, x, y, radius, start, [end, [forward]]);</em>
  <a class="header-anchor" href="rendering-text-along-an-arc.-1a4ae6db10104e76b69a87a803d10615.html#14ee5756-93d7-4d79-b2e3-6f3b42b6966e" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h1>
  <ul id="5f71c512-088a-4608-94a0-095fddd2bc10" class="bulleted-list">
    <li><strong>text:</strong> Text to render as String.
    </li>
    <li><strong>x</strong>,<strong>y</strong>: Position of circle center as Numbers.
    </li>
    <li><strong>radius:</strong> radius of circle in pixels
    </li>
    <li><strong>start:</strong> angle in radians to start.
    </li>
    <li><strong>[end]:</strong> optional. If included <code>ctx.textAlign</code> is ignored and the text is scaled to fit between start and end.
    </li>
    <li><strong>[forward]:</strong> optional default ‘true’. if true text direction is forwards, if ‘false’ direction is backward.
    </li>
  </ul>
<p>Both functions use the textBaseline to position the text vertically around the radius. For the best results use <code>ctx.TextBaseline</code>.
</p>
<p>Functions will throw a <code>TypeError</code> is any of the numerical arguments as NaN.
</p>
<p>If the <code>text</code> argument trims to an empty string or <code>ctx.globalAlpha = 0</code> the function just drops through and does nothing.
</p>
  <h1 id="98807a7a-45c1-43d8-9ce9-9f0324630b29" class=""><em>CanvasRenderingContext2D.measureCircleText(text, radius);</em>
  <a class="header-anchor" href="rendering-text-along-an-arc.-1a4ae6db10104e76b69a87a803d10615.html#98807a7a-45c1-43d8-9ce9-9f0324630b29" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h1>

<div class="code-box lang-Plain Text">
	<div>
	<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl">- **text:** String of text to measure.
</span></span><span class="line"><span class="cl"> - **radius:** radius of circle in pixels.</span></span></code></pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<p>Returns a Object containing various size metrics for rendering circular text
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl">- **width:** Pixel width of text as it would normaly be rendered
</span></span><span class="line"><span class="cl">- **angularWidth:** angular width of text in radians.
</span></span><span class="line"><span class="cl">- **pixelAngularSize:** angular width of a pixel in radians.</span></span></code></pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
  <h2 id="ff633802-1802-4dc6-978f-f456ac6e63b4" class=""><strong>Usage examples</strong>
  <a class="header-anchor" href="rendering-text-along-an-arc.-1a4ae6db10104e76b69a87a803d10615.html#ff633802-1802-4dc6-978f-f456ac6e63b4" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h2>

<div class="code-box lang-JavaScript">
	<div>
	<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">rad</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span> <span class="o">*</span> <span class="mf">0.4</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">text</span> <span class="o">=</span> <span class="s2">"Hello circle TEXT!"</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fontSize</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">centX</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">centY</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">font</span> <span class="o">=</span> <span class="nx">fontSize</span> <span class="o">+</span> <span class="s2">"px verdana"</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">textAlign</span> <span class="o">=</span> <span class="s2">"center"</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">textBaseline</span> <span class="o">=</span> <span class="s2">"bottom"</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"#000"</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="s2">"#666"</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Text under stretched from Math.PI to 0 (180 - 0 deg)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">ctx</span><span class="p">.</span><span class="nx">fillCircleText</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">centX</span><span class="p">,</span> <span class="nx">centY</span><span class="p">,</span> <span class="nx">rad</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// text over top centered at Math.PI * 1.5 ( 270 deg)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">ctx</span><span class="p">.</span><span class="nx">fillCircleText</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">centX</span><span class="p">,</span> <span class="nx">centY</span><span class="p">,</span> <span class="nx">rad</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// text under top centered at Math.PI * 1.5 ( 270 deg)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">ctx</span><span class="p">.</span><span class="nx">textBaseline</span> <span class="o">=</span> <span class="s2">"top"</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">fillCircleText</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">centX</span><span class="p">,</span> <span class="nx">centY</span><span class="p">,</span> <span class="nx">rad</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// text over top centered at Math.PI * 1.5 ( 270 deg)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">ctx</span><span class="p">.</span><span class="nx">textBaseline</span> <span class="o">=</span> <span class="s2">"middle"</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">fillCircleText</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">centX</span><span class="p">,</span> <span class="nx">centY</span><span class="p">,</span> <span class="nx">rad</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Use measureCircleText to get angular size
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">circleTextMetric</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">measureCircleText</span><span class="p">(</span><span class="s2">"Text to measure"</span><span class="p">,</span> <span class="nx">rad</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">circleTextMetric</span><span class="p">.</span><span class="nx">width</span><span class="p">);</span>            <span class="c1">// width of text if rendered normally
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">circleTextMetric</span><span class="p">.</span><span class="nx">angularWidth</span><span class="p">);</span>     <span class="c1">// angular width of text
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">circleTextMetric</span><span class="p">.</span><span class="nx">pixelAngularSize</span><span class="p">);</span> <span class="c1">// angular size of a pixel
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// Use measure text to draw a arc around the text
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">ctx</span><span class="p">.</span><span class="nx">textBaseline</span> <span class="o">=</span> <span class="s2">"middle"</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">measureCircleText</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">rad</span><span class="p">).</span><span class="nx">angularWidth</span><span class="p">;</span>    
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">fillCircleText</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">centX</span><span class="p">,</span> <span class="nx">centY</span><span class="p">,</span> <span class="nx">rad</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// render the arc around the text
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">ctx</span><span class="p">.</span><span class="nx">strokeStyle</span><span class="o">=</span> <span class="s2">"red"</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="nx">centX</span><span class="p">,</span> <span class="nx">centY</span><span class="p">,</span> <span class="nx">rad</span> <span class="o">+</span> <span class="nx">fontSize</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mf">1.5</span> <span class="o">-</span> <span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">*</span><span class="mf">1.5</span> <span class="o">+</span> <span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="nx">centX</span><span class="p">,</span> <span class="nx">centY</span><span class="p">,</span> <span class="nx">rad</span> <span class="o">-</span> <span class="nx">fontSize</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mf">1.5</span> <span class="o">+</span> <span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">*</span><span class="mf">1.5</span> <span class="o">-</span> <span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="kc">true</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span></span></span></code></pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<blockquote id="83c1a960-52fc-48ba-9135-9fcf787068bc" class="">NOTE: The text rendered is only an approximation of circular text. For example if two l’s are rendered the two lines will not be parallel, but if you render a “H” the two edges will be parallel. This is because each character is rendered as close as possible to the required direction, rather than each pixel being correctly transformed to create circular text.
</blockquote>
<blockquote id="0b1735a7-79cd-4ed8-ac18-953fa43a20c8" class="">NOTE: const multiplyCurrentTransform = true; defined in this example is used to set the transformation method used. If false the transformation for circular text rendering is absolute and does not depend on the current transformation state. The text will not be effected by any previous scale, rotate, or translate transforms. This will increase the performance of the render function, after the function is called the transform will be set to the default setTransform(1,0,0,1,0,0) If multiplyCurrentTransform = true (set as default in this example) the text will use the current transform so that the text can be scaled translated, skewed, rotated, etc but modifying the current transform befor calling the fillCircleText and strokeCircleText functions. Depending on the current state of the 2D context this may be somewhat slower then multiplyCurrentTransform = false
</blockquote>

      <div class="forum-link">
  Found a mistake? Have a question or improvement idea?
  <a href="rendering-text-along-an-arc.-1a4ae6db10104e76b69a87a803d10615.html#" onclick="showContact(); return false;">Let me know</a>.
</div>

      <form id="contact-form" action="https://formsubmit.co/kkowalczyk@gmail.com" method="POST">
  <p>
    </p><div class="contact-light">Feedback about page:</div>
    <input type="text" name="page-url" id="contact-page-url" readonly>
  

  <p>
    </p><div class="contact-light">Feedback:</div>
    <textarea name="message" id="msg-for-chris"></textarea>
    <div class="contact-light">Optional: your email if you want me to get back to you: </div>
    <input type="email" name="email">
    <input type="hidden" name="_template" value="box">
    <input type="text" name="_honey" class="noshow">
  

  <p>
    <button type="submit" class="contact-btn">
      Send Feedback
    </button>

    <button class="contact-btn" style="float: right;" onclick="hideContact(); return false;">
      Cancel
    </button>
  </p>
</form>


      <hr class="article-bottom-sep">
    </div>

    <div id="page-toc"><div class="article chapter-toc svelte-1t851gm"><div class="mtoc-0 svelte-1t851gm"><b>Text:</b></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="text-808468aff8084d509a8e83c22a420eec.html">Text</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="drawing-text-b1168a3e02e84cd99560c43e0d765661.html">Drawing Text</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="formatting-text-d5d07bb0fc294c08b7abb30dea74d968.html">Formatting Text</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="wrapping-text-into-paragraphs-8c0c26e83a494b97a459bc37eec0e124.html">Wrapping text into paragraphs</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="draw-text-paragraphs-into-irregular-shapes-29c97fcb486c449193f7b69563b00990.html">Draw text paragraphs into irregular shapes</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="fill-text-with-an-image-e0785968095f47c8a184e9627c768987.html">Fill text with an image</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><b>Rendering text along an arc.</b></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="text-on-curve-cubic-and-quadratic-beziers-e6638af33a164eda8c148cd412413d4e.html">Text on curve cubic and quadratic beziers</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="justified-text-6e2808c0749a440d83a4aef065ee2178.html">Justified text</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="justified-paragraphs-6054d5e3b63949e38bde829935a68309.html">Justified paragraphs</a></div></div></div>

    <div id="chapter-toc-wrapper">
      <hr>
      <div class="hdr">Table Of Contents</div>
      <div id="book-toc"><div class="article toc svelte-1ib47n1"><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">0</span><a href="getting-started-7d650957f57448d485d0f1426726d652.html">Getting started</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">1</span><a href="images-ba65754ede34461eb1e1560e2d6309e4.html">Images</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">2</span><a href="path-syntax-db570444b7a84c65af507de125251743.html">Path syntax</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">3</span><a href="media-types-and-the-canvas-4ce6605a6537475291ee3480df7bacb9.html">Media types and the canvas</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">4</span><a href="animation-43473e4727d0430a914dcd63a767322a.html">Animation</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">5</span><a href="collisions-and-intersections-c37198bed8f348ef8bfc2cebe79b5d8b.html">Collisions and intersections</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">6</span><a href="paths-041fccaeeb964fce95770aaf8da6dad2.html">Paths</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">7</span><b>Text</b></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">8</span><a href="clearing-the-screen-28d114e4408844fc827c5f73d6238ff8.html">Clearing the screen</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">9</span><a href="navigating-along-a-path-69ada749d57144f89e7e47f98efde9a1.html">Navigating along a path</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">10</span><a href="dragging-path-shapes-images-dd776e0ee2284dd699b4439d20e57076.html">Dragging path shapes images</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">11</span><a href="shadows-15ffc1665db0493fb2645df513042ee7.html">Shadows</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">12</span><a href="charts-diagrams-55c84186869841c98d2d873c9b4a19c9.html">Charts diagrams</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">13</span><a href="polygons-e6a83a07a60745f6884992715cb6dc6b.html">Polygons</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">14</span><a href="transformations-90e27c4187894f0499f3a04940f3821a.html">Transformations</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">15</span><a href="responsive-design-d29786c782594e778b8c65265f7b95e3.html">Responsive design</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">16</span><a href="compositing-de5b9aa74f444592b8f347684b3408b3.html">Compositing</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">17</span><a href="pixel-manipulation-ac5cc01d563d4c52a3602801411c5860.html">Pixel manipulation</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">18</span><a href="contributors-bdca4d70e7e644fe95706e68527f05d6.html">Contributors</a></div></div></div></div>
    </div>
  </div></body>
</html>