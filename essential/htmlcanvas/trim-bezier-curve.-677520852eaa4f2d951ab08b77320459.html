<!doctype html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../../assets/main.css" rel="stylesheet">
</head>
<body class="page">
<header class="page__header">
    <div class="page__header__left">
        <a id="link-home" href="../../index.html">
            &nbsp;Essential Books</a>
    </div>
</header>
<div class="content">
    <div class="article">
      

<div style="display: flex; justify-content: space-between">
  <h1 class="title">Trim bezier curve.</h1>
  <a class="edit-link" style="font-size: 80%" href="https://notion.so/677520852eaa4f2d951ab08b77320459" rel="nofollow" target="_blank">suggest change</a>
</div>


      
<p>This example show you how to trim a bezier.
</p>
<p>The function trimBezier trims the ends off of the curve returning the curve <code>fromPos</code> to <code>toPos</code>. <code>fromPos</code> and <code>toPos</code> are in the range 0 to 1 inclusive, It can trim quadratic and cubic curves. The curve type is determined by the last x argument <code>x4</code>. If not <code>undefined</code> or <code>null</code> then it assumes the curve is cubic else the curve is a quadratic
</p>
<p>The trimmed curve is returned as an array of points. 6 points for quadratic curves and 8 for cubic curves.
</p>
<hr id="77a19c1f-c248-4242-8923-479e6c2c7b20">
  <h3 id="ea4cdf2d-b8d3-4d26-9919-5c90523ae4b6" class="">Example Usage
  <a class="header-anchor" href="trim-bezier-curve.-677520852eaa4f2d951ab08b77320459.html#ea4cdf2d-b8d3-4d26-9919-5c90523ae4b6" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h3>
<p>Trimming a quadratic curve.
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl">var p1 = {x : 10 , y : 100};
</span></span><span class="line"><span class="cl">var p2 = {x : 100, y : 200};
</span></span><span class="line"><span class="cl">var p3 = {x : 200, y : 0};
</span></span><span class="line"><span class="cl">var newCurve = splitCurveAt(0.25, 0.75, p1.x, p1.y, p2.x, p2.y, p3.x, p3.y)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">var i = 0;
</span></span><span class="line"><span class="cl">var p = newCurve
</span></span><span class="line"><span class="cl">// Draw the trimmed curve
</span></span><span class="line"><span class="cl">// Assumes ctx is canvas 2d context
</span></span><span class="line"><span class="cl">ctx.lineWidth = 1;
</span></span><span class="line"><span class="cl">ctx.strokeStyle = "black";
</span></span><span class="line"><span class="cl">ctx.beginPath();
</span></span><span class="line"><span class="cl">ctx.moveTo(p[i++],p[i++]);
</span></span><span class="line"><span class="cl">ctx.quadraticCurveTo(p[i++], p[i++], p[i++], p[i++]);
</span></span><span class="line"><span class="cl">ctx.stroke();</span></span></code></pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<p>Trimming a cubic curve.
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl">var p1 = {x : 10 , y : 100};
</span></span><span class="line"><span class="cl">var p2 = {x : 100, y : 200};
</span></span><span class="line"><span class="cl">var p3 = {x : 200, y : 0};
</span></span><span class="line"><span class="cl">var p4 = {x : 300, y : 100};
</span></span><span class="line"><span class="cl">var newCurve = splitCurveAt(0.25, 0.75, p1.x, p1.y, p2.x, p2.y, p3.x, p3.y, p4.x, p4.y)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">var i = 0;
</span></span><span class="line"><span class="cl">var p = newCurve
</span></span><span class="line"><span class="cl">// Draw the trimmed curve
</span></span><span class="line"><span class="cl">// Assumes ctx is canvas 2d context
</span></span><span class="line"><span class="cl">ctx.lineWidth = 1;
</span></span><span class="line"><span class="cl">ctx.strokeStyle = "black";
</span></span><span class="line"><span class="cl">ctx.beginPath();
</span></span><span class="line"><span class="cl">ctx.moveTo(p[i++],p[i++]);
</span></span><span class="line"><span class="cl">ctx.bezierCurveTo(p[i++], p[i++], p[i++], p[i++], p[i++], p[i++]);
</span></span><span class="line"><span class="cl">ctx.stroke();</span></span></code></pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<hr id="d25bea67-5088-414a-982d-7a5f3ba1b0f2">
  <h2 id="5d2cb15e-f9c8-4045-b647-5c5537337116" class="">Example Function
  <a class="header-anchor" href="trim-bezier-curve.-677520852eaa4f2d951ab08b77320459.html#5d2cb15e-f9c8-4045-b647-5c5537337116" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h2>
<p><strong>trimBezier = function(fromPos, toPos, x1, y1, x2, y2, x3, y3, [x4, y4])</strong>
</p>
<blockquote id="a2cf9a1c-aacf-4f63-a635-f5c40a2e23b5" class="">Note: Arguments inside [x4, y4] are optional.
</blockquote>
<blockquote id="29f0fe35-a2db-47eb-9f2a-86dbd9132efc" class="">Note: This function requires the function in the example Split Bezier Curves At in this section
</blockquote>

<div class="code-box lang-Plain Text">
	<div>
	<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl">var trimBezier = function(fromPos, toPos, x1, y1, x2, y2, x3, y3, x4, y4){
</span></span><span class="line"><span class="cl">    var quad, i, s, retBez;
</span></span><span class="line"><span class="cl">    quad = false;
</span></span><span class="line"><span class="cl">    if(x4 === undefined || x4 === null){
</span></span><span class="line"><span class="cl">        quad = true;  // this is a quadratic bezier    
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    if(fromPos &gt; toPos){ // swap is from is after to
</span></span><span class="line"><span class="cl">        i = fromPos;
</span></span><span class="line"><span class="cl">        fromPos = toPos
</span></span><span class="line"><span class="cl">        toPos = i;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    // clamp to on the curve
</span></span><span class="line"><span class="cl">    toPos = toPos &lt;= 0 ? 0 : toPos &gt;= 1 ? 1 : toPos;
</span></span><span class="line"><span class="cl">    fromPos = fromPos &lt;= 0 ? 0 : fromPos &gt;= 1 ? 1 : fromPos;
</span></span><span class="line"><span class="cl">    if(toPos === fromPos){
</span></span><span class="line"><span class="cl">        s = splitBezierAt(toPos, x1, y1, x2, y2, x3, y3, x4, y4);
</span></span><span class="line"><span class="cl">        i = quad ? 4 : 6;
</span></span><span class="line"><span class="cl">        retBez = [s[i], s[i+1], s[i], s[i+1], s[i], s[i+1]];
</span></span><span class="line"><span class="cl">        if(!quad){
</span></span><span class="line"><span class="cl">            retBez.push(s[i], s[i+1]);
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">        return retBez;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    if(toPos === 1 &amp;&amp; fromPos === 0){       // no trimming required
</span></span><span class="line"><span class="cl">        retBez = [x1, y1, x2, y2, x3, y3];  // return original bezier
</span></span><span class="line"><span class="cl">        if(!quad){
</span></span><span class="line"><span class="cl">            retBez.push(x4, y4);
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">        return retBez;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    if(fromPos === 0){
</span></span><span class="line"><span class="cl">        if(toPos &lt; 1){
</span></span><span class="line"><span class="cl">            s = splitBezierAt(toPos, x1, y1, x2, y2, x3, y3, x4, y4);
</span></span><span class="line"><span class="cl">            i = 0;
</span></span><span class="line"><span class="cl">            retBez = [s[i++], s[i++], s[i++], s[i++], s[i++], s[i++]];
</span></span><span class="line"><span class="cl">            if(!quad){
</span></span><span class="line"><span class="cl">                retBez.push(s[i++], s[i++]);
</span></span><span class="line"><span class="cl">            }
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">        return retBez;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    if(toPos === 1){
</span></span><span class="line"><span class="cl">        if(fromPos &lt; 1){
</span></span><span class="line"><span class="cl">            s = splitBezierAt(toPos, x1, y1, x2, y2, x3, y3, x4, y4);
</span></span><span class="line"><span class="cl">            i = quad ? 4 : 6;
</span></span><span class="line"><span class="cl">            retBez = [s[i++], s[i++], s[i++], s[i++], s[i++], s[i++]];
</span></span><span class="line"><span class="cl">            if(!quad){
</span></span><span class="line"><span class="cl">                retBez.push(s[i++], s[i++]);
</span></span><span class="line"><span class="cl">            }
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">        return retBez;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    s = splitBezierAt(fromPos, x1, y1, x2, y2, x3, y3, x4, y4);
</span></span><span class="line"><span class="cl">    if(quad){
</span></span><span class="line"><span class="cl">        i = 4;
</span></span><span class="line"><span class="cl">        toPos = (toPos - fromPos) / (1 - fromPos);
</span></span><span class="line"><span class="cl">        s = splitBezierAt(toPos, s[i++], s[i++], s[i++], s[i++], s[i++], s[i++]);
</span></span><span class="line"><span class="cl">        i = 0;
</span></span><span class="line"><span class="cl">        retBez = [s[i++], s[i++], s[i++], s[i++], s[i++], s[i++]];
</span></span><span class="line"><span class="cl">        return retBez;
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    i = 6;
</span></span><span class="line"><span class="cl">    toPos = (toPos - fromPos) / (1 - fromPos);
</span></span><span class="line"><span class="cl">    s = splitBezierAt(toPos, s[i++], s[i++], s[i++], s[i++], s[i++], s[i++], s[i++], s[i++]);
</span></span><span class="line"><span class="cl">    i = 0;
</span></span><span class="line"><span class="cl">    retBez = [s[i++], s[i++], s[i++], s[i++], s[i++], s[i++], s[i++], s[i++]];
</span></span><span class="line"><span class="cl">    return retBez;
</span></span><span class="line"><span class="cl">}</span></span></code></pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<p>&lt;!—- Please note anyone editing this example that it is dependent on the example Split Bezier Curves At. If you make changes to either example please ensure that they remain compatible. If you remove the dependent please provide a replacement function or remove this as well (and may you be infested with bugs) —–!&gt;
</p>

      <div class="forum-link">
  Found a mistake? Have a question or improvement idea?
  <a href="trim-bezier-curve.-677520852eaa4f2d951ab08b77320459.html#" onclick="showContact(); return false;">Let me know</a>.
</div>

      <form id="contact-form" action="https://formsubmit.co/kkowalczyk@gmail.com" method="POST">
  <p>
    </p><div class="contact-light">Feedback about page:</div>
    <input type="text" name="page-url" id="contact-page-url" readonly>
  

  <p>
    </p><div class="contact-light">Feedback:</div>
    <textarea name="message" id="msg-for-chris"></textarea>
    <div class="contact-light">Optional: your email if you want me to get back to you: </div>
    <input type="email" name="email">
    <input type="hidden" name="_template" value="box">
    <input type="text" name="_honey" class="noshow">
  

  <p>
    <button type="submit" class="contact-btn">
      Send Feedback
    </button>

    <button class="contact-btn" style="float: right;" onclick="hideContact(); return false;">
      Cancel
    </button>
  </p>
</form>


      <hr class="article-bottom-sep">
    </div>

    <div id="page-toc"><div class="article chapter-toc svelte-1t851gm"><div class="mtoc-0 svelte-1t851gm"><b>Navigating along a path:</b></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="navigating-along-a-path-3677d449bf7f423c9b466c2ce0a070f9.html">Navigating along a Path</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="find-point-on-curve-953c3993815a4bafaf11e06d598c2ec2.html">Find point on curve</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="finding-points-along-a-cubic-bezier-curve-c51cbae65e58459c8e4aef58a7215602.html">Finding points along a cubic Bezier curve</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="finding-points-along-a-quadratic-curve-40d46c0b12ef48f28c04382714754c1a.html">Finding points along a quadratic curve</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="finding-points-along-an-entire-path-containing-curves-and-lines-7194e1da60234240baa70d2901d316b9.html">Finding points along an entire Path containing curves and lines</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="length-of-a-quadratic-curve-821ae8d5410a49038d6b19e031fd8a11.html">Length of a Quadratic Curve</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="split-bezier-curves-at-position-2c9822e11e234b3eb098eec6acfa7cc3.html">Split bezier curves at position</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><b>Trim bezier curve.</b></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="length-of-a-cubic-bezier-curve-a-close-approximation-abf65ea2ede040fa941b8d40ef81df14.html">Length of a Cubic Bezier Curve a close approximation</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="finding-points-along-a-line-79857376c84149eab30205128307ea9c.html">Finding points along a line</a></div><div class="mtoc-1 svelte-1t851gm"><span class="no svelte-1ib47n1">*</span><a href="finding-extent-of-quadratic-curve-3f6e99f32fbf483bbfe56887e0ebf302.html">Finding extent of Quadratic Curve</a></div></div></div>

    <div id="chapter-toc-wrapper">
      <hr>
      <div class="hdr">Table Of Contents</div>
      <div id="book-toc"><div class="article toc svelte-1ib47n1"><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">0</span><a href="getting-started-7d650957f57448d485d0f1426726d652.html">Getting started</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">1</span><a href="images-ba65754ede34461eb1e1560e2d6309e4.html">Images</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">2</span><a href="path-syntax-db570444b7a84c65af507de125251743.html">Path syntax</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">3</span><a href="media-types-and-the-canvas-4ce6605a6537475291ee3480df7bacb9.html">Media types and the canvas</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">4</span><a href="animation-43473e4727d0430a914dcd63a767322a.html">Animation</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">5</span><a href="collisions-and-intersections-c37198bed8f348ef8bfc2cebe79b5d8b.html">Collisions and intersections</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">6</span><a href="paths-041fccaeeb964fce95770aaf8da6dad2.html">Paths</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">7</span><a href="text-0d20929db8564186bfedfbeecbb675d5.html">Text</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">8</span><a href="clearing-the-screen-28d114e4408844fc827c5f73d6238ff8.html">Clearing the screen</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">9</span><b>Navigating along a path</b></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">10</span><a href="dragging-path-shapes-images-dd776e0ee2284dd699b4439d20e57076.html">Dragging path shapes images</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">11</span><a href="shadows-15ffc1665db0493fb2645df513042ee7.html">Shadows</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">12</span><a href="charts-diagrams-55c84186869841c98d2d873c9b4a19c9.html">Charts diagrams</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">13</span><a href="polygons-e6a83a07a60745f6884992715cb6dc6b.html">Polygons</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">14</span><a href="transformations-90e27c4187894f0499f3a04940f3821a.html">Transformations</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">15</span><a href="responsive-design-d29786c782594e778b8c65265f7b95e3.html">Responsive design</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">16</span><a href="compositing-de5b9aa74f444592b8f347684b3408b3.html">Compositing</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">17</span><a href="pixel-manipulation-ac5cc01d563d4c52a3602801411c5860.html">Pixel manipulation</a></div></div><div class="toc-item"><div class="chapters-toc-item"><span class="no svelte-1ib47n1">18</span><a href="contributors-bdca4d70e7e644fe95706e68527f05d6.html">Contributors</a></div></div></div></div>
    </div>
  </div></body>
</html>